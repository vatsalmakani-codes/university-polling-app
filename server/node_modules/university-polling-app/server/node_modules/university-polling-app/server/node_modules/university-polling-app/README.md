# University Polling System 

A secure, full-stack MERN application designed for universities to conduct polls. This platform features a sophisticated role-based access control system, real-time engagement tracking for administrators, and a professional, fully responsive user interface.

---

## Core Features

### Role-Based Architecture
*   **Student:**
    *   Can vote on polls targeted to them by administrators.
    *   View published poll results graphically.
    *   View a personal history of all their cast votes.
    *   Manage their own profile, including uploading a profile picture.
    *   Submit feedback and ratings after voting.
*   **Faculty:**
    *   Can participate in faculty-specific polls.
    *   View published poll results.
    *   View a history of polls they have been involved in.
    *   Manage their own profile and picture.
*   **Sub-Admin:**
    *   A limited administrator assigned to manage either **Students** or **Faculty**.
    *   Can add new users and delete users within their assigned scope.
    *   Can create polls for their assigned audience.
    *   *Cannot vote or see live poll results.*
*   **Super Admin:**
    *   Has **full control** over the entire system.
    *   Can manage all users, including creating and managing Sub-Admins.
    *   Can manage the entire lifecycle of any poll (create, close, extend deadline, publish results).
    *   Has exclusive access to the **live engagement view** for active polls.
    *   Can manage user feedback and "feature" it on the landing page.

### Advanced Functionality
*   **Secure Registration:** User registration is restricted to **`.edu` email addresses only**.
*   **Profile Pictures:** Users can upload their own profile pictures, which are stored on the server.
*   **Admin-Centric Poll Lifecycle:** Admins create all polls and control their status. Results are **hidden by default** until an admin explicitly publishes them.
*   **Live Engagement View:** A dedicated "mission control" page for Super Admins to watch poll results update in real-time via **WebSockets (Socket.IO)**.
*   **Real Feedback Loop:** After voting, users can submit feedback. Admins can then "feature" the best comments, which are dynamically displayed on the public landing page with the user's real profile picture.
*   **Dynamic UI:** The interface intelligently shows voting status and role-specific actions, and uses a professional dashboard layout with a sidebar and topbar for authenticated users.

### Professional UI/UX
*   **Modern Design:** A clean, professional UI inspired by modern dashboards, using a consistent design system.
*   **Animated Interface:** Smooth page transitions and on-scroll animations powered by **Framer Motion**.
*   **Fully Responsive Design:** A seamless experience on desktop, tablet, and mobile devices.
*   **Data Visualization:** Interactive charts from **Chart.js** are used for poll results and the admin dashboard.

---

## Tech Stack

*   **Frontend:** React.js, React Router, Context API, Axios, Framer Motion, Chart.js, Socket.IO Client, React Datepicker
*   **Backend:** Node.js, Express.js, Mongoose
*   **Database:** MongoDB
*   **Real-time Communication:** Socket.IO
*   **Authentication:** JSON Web Tokens (JWT), bcrypt.js
*   **File Uploads:** Multer (for local storage)

---

## Getting Started

### Prerequisites
*   Node.js (v18 or higher recommended)
*   npm
*   MongoDB (local installation or a free cluster from [MongoDB Atlas](https://www.mongodb.com/cloud/atlas))

### Installation & Setup

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/vatsalmakani-codes/university-polling-app.git
    cd university-polling-app
    ```

2.  **Install all dependencies for server and client:**
    *(This single command runs `npm install` in both the `server` and `client` directories)*
    ```bash
    npm run install-all
    ```

3.  **Set up Server Environment Variables:**
    *   Navigate to the `server` directory.
    *   Create a `.env` file by copying `.env.example`.
    *   Fill in your `MONGO_URI` and create a long, random `JWT_SECRET`.

    ```
    # server/.env
    MONGO_URI=YOUR_MONGODB_CONNECTION_STRING
    JWT_SECRET=YOUR_SUPER_SECRET_KEY
    PORT=5000
    ```

4.  **How to Create the First Super Admin:**
    *   **Method 1 (Temporary Code):**
        *   Temporarily, in `server/controllers/authController.js`, find the `registerUser` function. After `await user.save();`, add this block:
            ```javascript
            // Temporary code to create the first super admin
            if (email === 'your-super-admin-email@your.edu') {
                user.role = 'super-admin';
                await user.save();
            }
            ```
        *   Run the app and register with that specific email via the "Student" or "Faculty" registration page.
        *   **CRITICAL: Remove this code after creating your first super admin.**
    *   **Method 2 (Database Edit):**
        *   Register a normal user.
        *   Connect to your MongoDB database using MongoDB Compass or the Mongo Shell.
        *   Navigate to the `university_polling` database and the `users` collection.
        *   Find the user you just created and change their `role` field from `"student"` to `"super-admin"`.

### Running the Application

Run this single command from the **root directory** to start both the backend API and the frontend React app:

```bash
npm run dev
```
*   Backend API runs on `http://localhost:5000`
*   Frontend React App runs on `http://localhost:3000`

---

## Application Structure

*(A high-level overview of the project's architecture)*
```
university-polling-app/
├── client/ (React Frontend)
│   ├── src/
│   │   ├── components/ (Reusable components: Forms, Modals, Layouts)
│   │   ├── context/ (Global State Management - AuthContext)
│   │   ├── layouts/ (Main App Layout, Auth Page Layouts)
│   │   ├── pages/ (All route-based page components)
│   └── App.js (Master Router)
│
└── server/ (Node.js Backend)
    ├── config/ (Database connection)
    ├── controllers/ (API logic)
    ├── middleware/ (Auth, File Uploads)
    ├── models/ (MongoDB Schemas)
    ├── routes/ (API Endpoints)
    └── server.js (Main server entry point)
```